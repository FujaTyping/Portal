---
import { spotify, sklabs, featured } from "index.json";
import Section from "@/components/Section.astro";

import Discord from "@/icons/Discord.astro";
import Facebook from "@/icons/Facebook.astro";
import GitHub from "@/icons/GitHub.astro";
import Instagram from "@/icons/Instagram.astro";
import LinkedIn from "@/icons/LinkedIn.astro";
import Mail from "@/icons/Mail.astro";
import Map from "@/icons/Map.astro";
import Medium from "@/icons/Medium.astro";
import Spotify from "@/icons/Spotify.astro";
import TikTok from "@/icons/TikTok.astro";
import Twitch from "@/icons/Twitch.astro";
import WhatsApp from "@/icons/WhatsApp.astro";
import X from "@/icons/X.astro";
import YouTube from "@/icons/YouTube.astro";
import Website from "@/icons/Website.astro";

const SOCIAL_ICONS: Record<string, any> = {
    Discord,
    Facebook,
    GitHub,
    Instagram,
    LinkedIn,
    Mail,
    Map,
    Medium,
    Spotify,
    TikTok,
    Twitch,
    WhatsApp,
    X,
    YouTube,
    Website,
};
---

<Section>
    <div class="container">
        {
            sklabs.map(({ url }) => {
                return (
                    <>
                        <object
                            id="getplayer"
                            style="display: none;"
                            data={url}
                            width="”650″"
                            height="”500″"
                        >
                            <embed src={url} width="”650″" height="”500″" />
                        </object>
                    </>
                );
            })
        }
        {
            spotify.map(({ embedurl }) => {
                return (
                    <iframe
                        src={embedurl}
                        class="embed"
                        data-aos="fade-up"
                        style="border-radius:12px"
                        width="100%"
                        height="152"
                        frameborder="0"
                        allowfullscreen=""
                        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                        loading="lazy"
                    />
                );
            })
        }
        <hr />
        {
            featured.map(
                ({
                    network,
                    url,
                    title,
                    textColor,
                    backgroundImage,
                    backgroundColor,
                    borderRadius,
                }) => {
                    const Icon = SOCIAL_ICONS[network];

                    return (
                        <a
                            data-aos="fade-up"
                            href={url}
                            class="button"
                            style={`
                              background-color: ${backgroundColor};
                              color:${textColor};
                              border-radius:${borderRadius};
                              background-image: url(${backgroundImage});
                              background-size: cover;
                              background-position: center;
                            `}
                        >
                            <Icon />
                            {title}
                        </a>
                    );
                },
            )
        }
    </div>
</Section>

<script>
    function delayedFunction() {
        const Slbs = document.getElementById("getplayer");
        if (Slbs) {
            Slbs.style.display = "block";
        }
    }
    setTimeout(delayedFunction, 9500);
</script>

<style>
    hr {
        width: 100% !important;
        border-radius: 5px;
        border: 3px solid #e72e38;
        margin-bottom: 20px;
    }
    .container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .button {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: left;
        gap: 1rem;
        width: 100%;
        padding: 10rem 0 1rem 1rem;
        box-shadow: inset 0 -40px 80px 0 #000;
        transition: all 300ms cubic-bezier(0.23, 1, 0.32, 1);
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
        will-change: transform;
    }

    .button:hover {
        box-shadow:
            inset 0 -40px 80px 0 #000,
            0 8px 15px rgba(0, 0, 0, 0.25);
        transform: translateY(-2px);
    }

    .button:active {
        box-shadow: none;
        transform: translateY(0);
    }

    .embed {
        transition: all 300ms cubic-bezier(0.23, 1, 0.32, 1);
    }

    .embed:hover {
        box-shadow:
            inset 0 -40px 80px 0 #000,
            0 8px 15px rgba(0, 0, 0, 0.25);
        transform: translateY(-2px);
    }
</style>
